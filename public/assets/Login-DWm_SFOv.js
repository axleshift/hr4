import{r as a,v as S,j as e,L as I}from"./index-D2jFRD8E.js";import{b as k,c as h,a as t}from"./index.esm-BN_667ih.js";import{a as E}from"./axios-upsvKRUO.js";import{C as u,a as o}from"./CRow-DULDCFn-.js";import{C as P}from"./CCardGroup-J09CE1OJ.js";import{C as j,a as g}from"./CCardBody-DIIyknoc.js";import{C as q}from"./CForm-VWQsaZcV.js";import{C,a as f}from"./CInputGroupText-C_Hhe3iu.js";import{c as F}from"./cil-user-Ddrdy7PS.js";import{C as y}from"./CFormInput-Dco99Eg6.js";import{c as G}from"./cil-lock-locked-DmxpJbVL.js";const M=()=>{const[i,N]=a.useState(""),[n,v]=a.useState(""),[c,l]=a.useState(""),[d,m]=a.useState(!1),b=S(),w=async s=>{var x,p;s.preventDefault(),l(""),m(!0);try{const r=await E.post("http://localhost:8000/api/login",{email:i,password:n});localStorage.setItem("user",JSON.stringify(r.data.user)),b("/dashboard")}catch(r){m(!1);const L=((p=(x=r.response)==null?void 0:x.data)==null?void 0:p.message)||(r.request?"No response from server. Please try again later.":r.message)||"Login failed! Please check your credentials.";l(L)}};return e.jsx("div",{className:"bg-body-tertiary min-vh-100 d-flex flex-row align-items-center",children:e.jsx(k,{children:e.jsx(u,{className:"justify-content-center",children:e.jsx(o,{md:8,children:e.jsxs(P,{children:[e.jsx(j,{className:"p-4",children:e.jsx(g,{children:e.jsxs(q,{onSubmit:w,children:[e.jsx("h1",{children:"Login"}),e.jsx("p",{className:"text-body-secondary",children:"Sign in to your account"}),c&&e.jsx("div",{className:"text-danger",children:c}),e.jsxs(C,{className:"mb-3",children:[e.jsx(f,{children:e.jsx(h,{icon:F})}),e.jsx(y,{placeholder:"Email",autoComplete:"email",value:i,onChange:s=>N(s.target.value),required:!0})]}),e.jsxs(C,{className:"mb-4",children:[e.jsx(f,{children:e.jsx(h,{icon:G})}),e.jsx(y,{type:"password",placeholder:"Password",autoComplete:"current-password",value:n,onChange:s=>v(s.target.value),required:!0})]}),e.jsxs(u,{children:[e.jsx(o,{xs:6,children:e.jsx(t,{color:"primary",className:"px-4",type:"submit",disabled:d,children:d?"Logging in...":"Login"})}),e.jsx(o,{xs:6,className:"text-right",children:e.jsx(t,{color:"link",className:"px-0",children:"Forgot password?"})})]})]})})}),e.jsx(j,{className:"text-white bg-primary py-5",style:{width:"44%"},children:e.jsx(g,{className:"text-center",children:e.jsxs("div",{children:[e.jsx("h2",{children:"Sign up"}),e.jsx("p",{children:"Create an account to get started"}),e.jsx(I,{to:"/register",children:e.jsx(t,{color:"primary",className:"mt-3",active:!0,tabIndex:-1,children:"Register Now!"})})]})})})]})})})})})};export{M as default};
