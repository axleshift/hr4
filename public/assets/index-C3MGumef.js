import{r as i,x as d,i as h,j as e}from"./index-CMqv66jl.js";import{C as E,a as N}from"./CRow-gWUpyxbc.js";import{C as b,a as w}from"./CCardBody-hHF5iKZI.js";import{C as y}from"./CCardHeader-BFML0WgB.js";import{C as H,a as v,b as m,c as t,d as T,e as n}from"./CTable-BAkLbzHB.js";const k=()=>{const[x,l]=i.useState([]),[p,j]=i.useState([]);i.useEffect(()=>{o(),u()},[]);const o=async()=>{try{const s=await d.get("https://backend-hr1.axleshift.com/api/employees");l(s.data.data||s.data)}catch(s){console.error("Error fetching external employees:",s);try{const r=await h.get("/api/employee");l(r.data.data)}catch(r){console.error("Error fetching local employees:",r)}}},u=async()=>{try{const s=await d.get("https://backend-hr1.axleshift.com/api/newhires");j(s.data.data||s.data)}catch(s){console.error("Error fetching new hires:",s)}},g=s=>{const r=s.middleName?` ${s.middleName}`:"";return`${s.firstName}${r} ${s.lastName}`},C=async(s,r)=>{try{await h.put(`/api/employee-status/${s}`,{status:r}),o()}catch(a){console.error(`Error updating status for ${s}:`,a)}},c=(s,r)=>e.jsxs(b,{className:"mb-4",children:[e.jsx(y,{className:"d-flex justify-content-between align-items-center",children:e.jsx("strong",{children:r})}),e.jsx(w,{children:e.jsxs(H,{align:"middle",className:"mb-0 border",hover:!0,responsive:!0,children:[e.jsx(v,{children:e.jsxs(m,{children:[e.jsx(t,{children:"Employee ID"}),e.jsx(t,{children:"Name"}),e.jsx(t,{children:"Position"}),e.jsx(t,{children:"Department"}),e.jsx(t,{children:"Date Hired"}),e.jsx(t,{children:"Email"}),e.jsx(t,{className:"text-center",children:"Status"})]})}),e.jsx(T,{children:s.map(a=>e.jsxs(m,{children:[e.jsx(n,{children:a.employeeId}),e.jsx(n,{children:g(a)}),e.jsx(n,{children:a.position}),e.jsx(n,{children:a.department}),e.jsx(n,{children:a.dateHired}),e.jsx(n,{children:a.email}),e.jsx(n,{className:"text-center",children:e.jsxs("select",{className:"form-select",value:a.status||"pending",onChange:f=>C(a.employeeId,f.target.value),children:[e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"ongoing",children:"Ongoing"}),e.jsx("option",{value:"passed",children:"Passed"}),e.jsx("option",{value:"failed",children:"Failed"})]})})]},a.id))})]})})]});return e.jsx(E,{children:e.jsxs(N,{xs:12,children:[c(x,"Employee Management"),c(p,"New Hires")]})})};export{k as default};
