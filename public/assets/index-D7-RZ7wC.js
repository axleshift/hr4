import{r as o,j as e,P as s,h as _}from"./index-CtvPprv5.js";import{c as t,a as y,d as b}from"./index.esm-BG20t90a.js";import{a as g,b as F,c as N,d as v}from"./DefaultLayout-CdutlPjv.js";import{C as O}from"./CModalTitle-PV3fPd-G.js";import{C as T}from"./CForm-ekawwOCy.js";import{C as l}from"./CFormInput-l-_YW8g9.js";import{C as R}from"./CFormSelect-D6M8op9g.js";import{C as w,a as E}from"./CRow-C5ok-yEk.js";import{C as S,a as A}from"./CCardBody-B3XNG-wS.js";import{C as D}from"./CCardHeader-Dl2mCEvF.js";import{C as M,a as P,b as j,c as m,d as V,e as c}from"./CTable-CFhC1ooF.js";import{c as q}from"./cil-options-sHCm5Gxk.js";import"./CCloseButton-C3AI6qVl.js";import"./cil-user-Ddrdy7PS.js";const f=({modalVisible:p,setModalVisible:h,user:r,departments:u})=>{const[a,x]=o.useState({name:"",email:"",department:"",employee_type:"",employment_status:"",date_of_hire:"",gender:"",phone_number:"",address:""});return o.useEffect(()=>{r&&x({name:r.name||"",email:r.email||"",department:r.department||"",employee_type:r.employee_type||"",employment_status:r.employment_status||"",date_of_hire:r.date_of_hire||"",gender:r.gender||"",phone_number:r.phone_number||"",address:r.address||""})},[r]),e.jsxs(g,{visible:p,onClose:()=>h(!1),size:"lg",children:[e.jsx(F,{children:e.jsx(O,{children:"View Profile"})}),e.jsx(N,{children:e.jsxs(T,{children:[e.jsx(t,{htmlFor:"name",children:"Full Name"}),e.jsx(l,{id:"name",name:"name",value:a.name,readOnly:!0}),e.jsx(t,{htmlFor:"email",children:"Email"}),e.jsx(l,{id:"email",name:"email",value:a.email,readOnly:!0}),e.jsx(t,{htmlFor:"department",children:"Department"}),e.jsxs(R,{id:"department",name:"department",value:a.department,readOnly:!0,children:[e.jsx("option",{value:"",children:"--"}),u.map(d=>e.jsx("option",{value:d.id,children:d.name},d.id))]}),e.jsx(t,{htmlFor:"employee_type",children:"Employee Type"}),e.jsx(l,{id:"employee_type",name:"employee_type",value:a.employee_type,readOnly:!0}),e.jsx(t,{htmlFor:"employment_status",children:"Employment Status"}),e.jsx(l,{id:"employment_status",name:"employment_status",value:a.employment_status,readOnly:!0}),e.jsx(t,{htmlFor:"date_of_hire",children:"Date of Hire"}),e.jsx(l,{id:"date_of_hire",name:"date_of_hire",type:"date",value:a.date_of_hire,readOnly:!0}),e.jsx(t,{htmlFor:"gender",children:"Gender"}),e.jsx(l,{id:"gender",name:"gender",value:a.gender,readOnly:!0}),e.jsx(t,{htmlFor:"phone_number",children:"Phone Number"}),e.jsx(l,{id:"phone_number",name:"phone_number",value:a.phone_number,readOnly:!0}),e.jsx(t,{htmlFor:"address",children:"Address"}),e.jsx(l,{id:"address",name:"address",value:a.address,readOnly:!0})]})}),e.jsx(v,{children:e.jsx(y,{color:"secondary",onClick:()=>h(!1),children:"Close"})})]})};f.propTypes={modalVisible:s.bool.isRequired,setModalVisible:s.func.isRequired,user:s.shape({id:s.number.isRequired,name:s.string,email:s.string,department:s.oneOfType([s.number,s.string]),employee_type:s.string,employment_status:s.string,date_of_hire:s.string,gender:s.string,phone_number:s.string,address:s.string}).isRequired,departments:s.arrayOf(s.shape({id:s.number,name:s.string})).isRequired};const Z=()=>{const[p,h]=o.useState([]),[r,u]=o.useState(null),[a,x]=o.useState(!1);o.useEffect(()=>{(async()=>{try{const i=await _.get("/api/users");h(i.data)}catch(i){console.error("Failed to fetch users:",i)}})()},[]);const d=n=>{const i=p.find(C=>C.id===n);u(i),x(!0)};return e.jsxs(w,{children:[e.jsx(E,{xs:12,children:e.jsxs(S,{className:"mb-4",children:[e.jsx(D,{className:"d-flex justify-content-between align-items-center",children:e.jsx("strong",{children:"Access Control"})}),e.jsx(A,{children:e.jsxs(M,{align:"middle",className:"mb-0 border",hover:!0,responsive:!0,children:[e.jsx(P,{children:e.jsxs(j,{children:[e.jsx(m,{children:"Name"}),e.jsx(m,{children:"Email"}),e.jsx(m,{className:"text-center",children:"Role"}),e.jsx(m,{className:"text-center",children:"Department"}),e.jsx(m,{className:"text-center",children:"Actions"})]})}),e.jsx(V,{children:p.map(n=>e.jsxs(j,{children:[e.jsx(c,{children:n.name}),e.jsx(c,{children:n.email}),e.jsx(c,{className:"text-center",children:"N/A"}),e.jsx(c,{className:"text-center",children:n.department||"N/A"}),e.jsx(c,{className:"text-center",children:e.jsxs(y,{color:"secondary",size:"sm",onClick:()=>d(n.id),children:[e.jsx(b,{icon:q,className:"me-1"}),"View"]})})]},n.id))})]})})]})}),r&&e.jsx(f,{modalVisible:a,setModalVisible:x,user:r,roles:[],departments:[]})]})};export{Z as default};
