import{r as l,j as e,w as c}from"./index-DP5pH_ER.js";import{R as p}from"./react-B8BFSrOh.js";import{C as h,a as C,b as x,V as j}from"./vue-BGIJd6C0.js";import{C as u,a as f}from"./CRow-BH9JFBUU.js";import{C as g,a as S}from"./CCardBody-B7W0KPbz.js";import{C as y}from"./CCardHeader-BcqtbZtC.js";import{a as i}from"./index.esm-Bru2eWSN.js";import"./DefaultLayout-tT7z9qkv.js";import"./CCloseButton-shYbCPD9.js";import"./cil-user-BMogW8DQ.js";const L=()=>{const[s,a]=l.useState([]);l.useEffect(()=>{(async()=>{try{const n=(await c.get("http://localhost:8000/api/announcement")).data.data.map(o=>({id:o.id,imgSrc:p,label:o.title,description:o.content}));a(n)}catch(t){console.error("Error fetching announcements:",t)}})()},[]);const d=async()=>{const r=s.length+1,t={title:`Slide ${r} label`,content:`TITLE ${r}.`};try{const n=await c.post("http://localhost:8000/api/announcement",t,{headers:{"Content-Type":"application/json"}}),o={id:r,imgSrc:j,label:t.title,description:t.content};a([...s,o])}catch(n){console.error("Error adding slide:",n)}},m=async()=>{if(s.length>0){const r=s[s.length-1].id;try{await c.delete(`http://localhost:8000/api/announcement/${r}`),a(s.slice(0,-1))}catch(t){console.error("Error deleting slide:",t)}}};return e.jsx(u,{children:e.jsx(f,{xs:12,children:e.jsxs(g,{className:"mb-4",children:[e.jsx(y,{children:e.jsx("strong",{children:"Announcement"})}),e.jsx(S,{children:e.jsx(h,{controls:!0,indicators:!0,children:s.map(r=>e.jsxs(C,{children:[e.jsx("img",{className:"d-block w-100",src:r.imgSrc,alt:r.label}),e.jsxs(x,{className:"d-none d-md-block",children:[e.jsx("h5",{children:r.label}),e.jsx("p",{children:r.description})]})]},r.id))})}),e.jsxs("div",{className:"d-grid gap-2 d-md-flex justify-content-md-end",children:[e.jsx(i,{color:"primary",className:"me-md-2",onClick:d,children:"ADD"}),e.jsx(i,{color:"primary",children:"UPDATE"}),e.jsx(i,{color:"primary",onClick:m,children:"DELETE"})]})]})})})};export{L as default};
