import{r as i,x as d,i as g,j as e}from"./index-Dp9GEFbB.js";import{C as u,a as b}from"./CRow-MqQLhEJT.js";import{C as E,a as N}from"./CCardBody-DW8EU9Ji.js";import{C as w}from"./CCardHeader-CxcfZYlU.js";import{C as y,a as H,b as m,c as t,d as T,e as n}from"./CTable-DaUqCdQv.js";import{f as S}from"./DefaultLayout-Bs0kDsF8.js";import"./index.esm-CsodqJMD.js";import"./CCloseButton-CZP_7qj8.js";import"./cil-user-B8dKk894.js";const P=()=>{const[h,c]=i.useState([]),[x,p]=i.useState([]);i.useEffect(()=>{j(),f()},[]);const j=async()=>{try{const r=await d.get("https://backend-hr1.axleshift.com/api/employees");c(r.data.data||r.data)}catch(r){console.error("Error fetching external employees:",r);try{const s=await g.get("/api/employee");c(s.data.data)}catch(s){console.error("Error fetching local employees:",s)}}},f=async()=>{try{const r=await d.get("https://backend-hr1.axleshift.com/api/newhires");p(r.data.data||r.data)}catch(r){console.error("Error fetching new hires:",r)}},C=r=>{const s=r.middleName?` ${r.middleName}`:"";return`${r.firstName}${s} ${r.lastName}`},o=r=>{let s="secondary";return r==="pending"?s="warning":r==="completed"?s="success":r==="in-progress"&&(s="info"),e.jsx(S,{color:s,children:r})},l=(r,s)=>e.jsxs(E,{className:"mb-4",children:[e.jsx(w,{className:"d-flex justify-content-between align-items-center",children:e.jsx("strong",{children:s})}),e.jsx(N,{children:e.jsxs(y,{align:"middle",className:"mb-0 border",hover:!0,responsive:!0,children:[e.jsx(H,{children:e.jsxs(m,{children:[e.jsx(t,{children:"Employee ID"}),e.jsx(t,{children:"Name"}),e.jsx(t,{children:"Position"}),e.jsx(t,{children:"Department"}),e.jsx(t,{children:"Date Hired"}),e.jsx(t,{children:"Email"}),e.jsx(t,{className:"text-center",children:"Status"})]})}),e.jsx(T,{children:r.map(a=>e.jsxs(m,{children:[e.jsx(n,{children:a.employeeId}),e.jsx(n,{children:C(a)}),e.jsx(n,{children:a.position}),e.jsx(n,{children:a.department}),e.jsx(n,{children:a.dateHired}),e.jsx(n,{children:a.email}),e.jsx(n,{className:"text-center",children:a.trainingStatus?o(a.trainingStatus.status):o("pending")})]},a.id))})]})})]});return e.jsx(u,{children:e.jsxs(b,{xs:12,children:[l(h,"Employee Management"),l(x,"New Hires")]})})};export{P as default};
