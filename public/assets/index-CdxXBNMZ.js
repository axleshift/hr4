import{r as m,j as e,P as r,h as b}from"./index-Do1af4yk.js";import{c as l,a as C,d as g}from"./index.esm-E5JWiWCK.js";import{a as F,b as v,c as N,d as O}from"./DefaultLayout-YZDr6-2s.js";import{C as R}from"./CModalTitle-B2EOZdlT.js";import{C as T}from"./CForm-3r8Qbwac.js";import{C as d}from"./CFormInput-DjYAJ2HE.js";import{C as j}from"./CFormSelect-BCoDMtx4.js";import{C as w,a as S}from"./CRow-DMB2nx1V.js";import{C as E,a as q}from"./CCardBody-Cd-Wmf6g.js";import{C as A}from"./CCardHeader-DMBmBfXt.js";import{C as D,a as M,b as y,c as o,d as P,e as i}from"./CTable-BNJkC3mW.js";import{c as V}from"./cil-options-sHCm5Gxk.js";import"./CCloseButton-D1sftzq7.js";import"./cil-user-Ddrdy7PS.js";const f=({modalVisible:c,setModalVisible:h,user:s,roles:p,departments:x})=>{var n;const[a,u]=m.useState({name:s.name||"",email:s.email||"",role:s.role_id||"",department:((n=s.department)==null?void 0:n.id)||"",employee_type:s.employee_type||"",employment_status:s.employment_status||"",date_of_hire:s.date_of_hire||"",gender:s.gender||"",phone_number:s.phone_number||"",address:s.address||""});return e.jsxs(F,{visible:c,onClose:()=>h(!1),size:"lg",children:[e.jsx(v,{children:e.jsx(R,{children:"View Profile"})}),e.jsx(N,{children:e.jsxs(T,{children:[e.jsx(l,{htmlFor:"name",children:"Full Name"}),e.jsx(d,{id:"name",name:"name",value:a.name,readOnly:!0}),e.jsx(l,{htmlFor:"email",children:"Email"}),e.jsx(d,{id:"email",name:"email",value:a.email,readOnly:!0}),e.jsx(l,{htmlFor:"role",children:"Role"}),e.jsx(j,{id:"role",name:"role",value:a.role,readOnly:!0,children:p.map(t=>e.jsx("option",{value:t.id,children:t.name},t.id))}),e.jsx(l,{htmlFor:"department",children:"Department"}),e.jsx(j,{id:"department",name:"department",value:a.department,readOnly:!0,children:x.map(t=>e.jsx("option",{value:t.id,children:t.name},t.id))}),e.jsx(l,{htmlFor:"employee_type",children:"Employee Type"}),e.jsx(d,{id:"employee_type",name:"employee_type",value:a.employee_type,readOnly:!0}),e.jsx(l,{htmlFor:"employment_status",children:"Employment Status"}),e.jsx(d,{id:"employment_status",name:"employment_status",value:a.employment_status,readOnly:!0}),e.jsx(l,{htmlFor:"date_of_hire",children:"Date of Hire"}),e.jsx(d,{id:"date_of_hire",name:"date_of_hire",type:"date",value:a.date_of_hire,readOnly:!0}),e.jsx(l,{htmlFor:"gender",children:"Gender"}),e.jsx(d,{id:"gender",name:"gender",value:a.gender,readOnly:!0}),e.jsx(l,{htmlFor:"phone_number",children:"Phone Number"}),e.jsx(d,{id:"phone_number",name:"phone_number",value:a.phone_number,readOnly:!0}),e.jsx(l,{htmlFor:"address",children:"Address"}),e.jsx(d,{id:"address",name:"address",value:a.address,readOnly:!0})]})}),e.jsx(O,{children:e.jsx(C,{color:"secondary",onClick:()=>h(!1),children:"Close"})})]})};f.propTypes={modalVisible:r.bool.isRequired,setModalVisible:r.func.isRequired,user:r.shape({id:r.number.isRequired,name:r.string,email:r.string,role_id:r.number,department:r.shape({id:r.number,name:r.string}),employee_type:r.string,employment_status:r.string,date_of_hire:r.string,gender:r.string,phone_number:r.string,address:r.string}).isRequired,roles:r.array.isRequired,departments:r.array.isRequired};const Z=()=>{const[c,h]=m.useState([]),[s,p]=m.useState(null),[x,a]=m.useState(!1);m.useEffect(()=>{(async()=>{try{const t=await b.get("/users");h(t.data)}catch(t){console.error("Failed to fetch users:",t)}})()},[]);const u=n=>{const t=c.find(_=>_.id===n);p(t),a(!0)};return e.jsxs(w,{children:[e.jsx(S,{xs:12,children:e.jsxs(E,{className:"mb-4",children:[e.jsx(A,{className:"d-flex justify-content-between align-items-center",children:e.jsx("strong",{children:"Access Control"})}),e.jsx(q,{children:e.jsxs(D,{align:"middle",className:"mb-0 border",hover:!0,responsive:!0,children:[e.jsx(M,{children:e.jsxs(y,{children:[e.jsx(o,{children:"Name"}),e.jsx(o,{children:"Email"}),e.jsx(o,{className:"text-center",children:"Role"}),e.jsx(o,{className:"text-center",children:"Department"}),e.jsx(o,{className:"text-center",children:"Actions"})]})}),e.jsx(P,{children:c.map(n=>e.jsxs(y,{children:[e.jsx(i,{children:n.name}),e.jsx(i,{children:n.email}),e.jsx(i,{className:"text-center",children:"N/A"}),e.jsx(i,{className:"text-center",children:n.department||"N/A"}),e.jsx(i,{className:"text-center",children:e.jsxs(C,{color:"secondary",size:"sm",onClick:()=>u(n.id),children:[e.jsx(g,{icon:V,className:"me-1"}),"View"]})})]},n.id))})]})})]})}),s&&e.jsx(f,{modalVisible:x,setModalVisible:a,user:s,roles:[],departments:[]})]})};export{Z as default};
