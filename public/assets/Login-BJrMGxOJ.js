import{r as c,m as f,j as s}from"./index-D9jjzhzb.js";import{a as r}from"./axios-CCb-kr4I.js";import{C as i}from"./index.esm-fpouybT4.js";import{a as y,b as l}from"./CContainer-D-X2fmCf.js";import{C as d,a}from"./CRow-DNhdtRDb.js";import{C as w}from"./CCardGroup-BkXgzONB.js";import{C as N,a as b}from"./CCardBody-jn4U6esu.js";import{C as v}from"./CForm-D9ERDgJD.js";import{C as m,a as p}from"./CInputGroupText-8n4-zcUm.js";import{c as L}from"./cil-user-Ddrdy7PS.js";import{C as h}from"./CFormInput-CuhmxhYZ.js";import{c as E}from"./cil-lock-locked-DmxpJbVL.js";import"./CFormControlWrapper-fnGJS7iU.js";import"./CFormControlValidation-CHjUXGjU.js";import"./CFormLabel-CBuRc9oP.js";const J=()=>{const[t,x]=c.useState(""),[n,u]=c.useState(""),g=f();r.defaults.withCredentials=!0;const C=async e=>{e.preventDefault();try{const o=await r.post("http://localhost:8000/api/login",{email:t,password:n});console.log("Login Response:",o),o.status===200?(console.log("Login successful, fetching protected data..."),await j(),g("/dashboard")):console.error("Login failed:",o.data.message)}catch(o){console.error("Error during login:",o.response?o.response.data:o.message)}},j=async()=>{try{const e=await r.get("http://localhost:8000/api/protected-route");console.log("Protected Data:",e.data)}catch(e){console.error("Error fetching protected data:",e)}};return s.jsx("div",{className:"bg-body-tertiary min-vh-100 d-flex flex-row align-items-center",children:s.jsx(y,{children:s.jsx(d,{className:"justify-content-center",children:s.jsx(a,{md:8,children:s.jsx(w,{children:s.jsx(N,{className:"p-4",children:s.jsx(b,{children:s.jsxs(v,{onSubmit:C,children:[s.jsx("h1",{children:"Login"}),s.jsx("p",{className:"text-body-secondary",children:"Sign In to your account"}),s.jsxs(m,{className:"mb-3",children:[s.jsx(p,{children:s.jsx(i,{icon:L})}),s.jsx(h,{placeholder:"Email",autoComplete:"username",value:t,onChange:e=>x(e.target.value)})]}),s.jsxs(m,{className:"mb-4",children:[s.jsx(p,{children:s.jsx(i,{icon:E})}),s.jsx(h,{type:"password",placeholder:"Password",autoComplete:"current-password",value:n,onChange:e=>u(e.target.value)})]}),s.jsxs(d,{children:[s.jsx(a,{xs:6,children:s.jsx(l,{color:"primary",className:"px-4",type:"submit",children:"Login"})}),s.jsx(a,{xs:6,className:"text-right",children:s.jsx(l,{color:"link",className:"px-0",children:"Forgot password?"})})]})]})})})})})})})})};export{J as default};
