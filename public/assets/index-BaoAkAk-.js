import{r,j as e,q as B}from"./index-d5SzVN2P.js";import{C as u,a as l}from"./CRow-CZF1YnA6.js";import{C as p}from"./CWidgetStatsA-lp72t4U4.js";import{a as d,c,d as m}from"./index.esm-COIfyEKZ.js";import{C as g,a as C,b as i,c as a,d as f,e as t}from"./CTable-DEBILNvU.js";import{a as z,b as K,d as Q}from"./DefaultLayout-BEpIjTDX.js";import{C as X}from"./cil-user-BF_u-Pjo.js";import{C as S}from"./CFormSelect-BRV9JX8n.js";import"./CCardBody-Cy3VdSuz.js";import"./CCloseButton--qVRObCj.js";const oe=()=>{const[h,D]=r.useState([]),[R,I]=r.useState(""),[v,A]=r.useState(""),[w,M]=r.useState(""),[k,H]=r.useState(""),[N,b]=r.useState(""),[y,T]=r.useState(""),[P,V]=r.useState(""),[G,Y]=r.useState("Pending"),[J,x]=r.useState(!1),[F,j]=r.useState(1),O=()=>j(2),q=()=>j(1),[L,U]=r.useState([]),[E,W]=r.useState([]),[o,_]=r.useState("");r.useEffect(()=>{(async()=>{try{const n=await B.get("/api/programs");U(n.data.data)}catch(n){console.error("Error fetching programs:",n)}})()},[]),r.useEffect(()=>{if(!o)return;(async()=>{try{const n=await B.get(`/api/courses?program_id=${o}`);W(n.data.data)}catch(n){console.error("Error fetching courses:",n)}})()},[o]);const $=()=>{v&&P&&(D([...h,{id:h.length+1,formId:R,programName:v,courseName:w,trainingDate:k,department:N,participant:y,cost:P,status:G}]),I(""),A(""),M(""),H(""),b(""),T(""),V(""),x(!1),j(1))};return e.jsxs(u,{children:[e.jsx(l,{xs:12,md:6,lg:3,children:e.jsx(p,{className:"mb-4",color:"primary",value:"₱0",title:"Total Training Budget"})}),e.jsx(l,{xs:12,md:6,lg:3,children:e.jsx(p,{className:"mb-4",color:"warning",value:"₱0",title:"Total Training Pending"})}),e.jsx(l,{xs:12,md:6,lg:3,children:e.jsx(p,{className:"mb-4",color:"danger",value:"0%",title:"Total Training Rejected"})}),e.jsx(l,{xs:12,className:"mb-3 d-flex justify-content-end",children:e.jsx(d,{color:"primary",onClick:()=>x(!0),children:"Add Budget"})}),e.jsx(l,{xs:12,children:e.jsxs(g,{striped:!0,hover:!0,children:[e.jsx(C,{children:e.jsxs(i,{children:[e.jsx(a,{children:"ID"}),e.jsx(a,{children:"Form ID"}),e.jsx(a,{children:"Training Program"}),e.jsx(a,{children:"Status"}),e.jsx(a,{children:"Action"})]})}),e.jsx(f,{children:h.length>0?h.map(s=>e.jsxs(i,{children:[e.jsx(t,{children:s.id}),e.jsx(t,{children:s.formId}),e.jsx(t,{children:s.programName}),e.jsx(t,{children:s.status}),e.jsx(t,{children:e.jsx(d,{color:"info",variant:"outline",children:"More Info"})})]},s.id)):e.jsx(i,{children:e.jsx(t,{colSpan:"5",className:"text-center",children:"No Budget Reports Available"})})})]})}),e.jsxs(z,{visible:J,onClose:()=>x(!1),children:[e.jsx(K,{children:"Budger Form"}),e.jsx(Q,{children:e.jsxs(X,{children:[F===1&&e.jsxs(e.Fragment,{children:[e.jsx(u,{className:"mb-3",children:e.jsx(l,{children:e.jsx("h5",{className:"fw-bold",children:"TRAINING PROJECT"})})}),e.jsx(c,{children:"Training Program Name"}),e.jsxs(S,{value:o,onChange:s=>_(s.target.value),children:[e.jsx("option",{value:"",children:"Select Program"}),L.map(s=>e.jsx("option",{value:s.id,children:s.title},s.id))]}),o&&E.length>0&&e.jsxs(e.Fragment,{children:[e.jsx("h6",{className:"mt-3",children:"Available Courses"}),e.jsxs(g,{striped:!0,children:[e.jsx(C,{children:e.jsxs(i,{children:[e.jsx(a,{children:"Course Name"}),e.jsx(a,{children:"Description"}),e.jsx(a,{children:"Duration"})]})}),e.jsx(f,{children:E.map(s=>e.jsxs(i,{children:[e.jsx(t,{children:s.title}),e.jsx(t,{children:s.description}),e.jsx(t,{children:s.duration})]},s.id))})]})]}),e.jsxs(g,{striped:!0,children:[e.jsx(C,{children:e.jsxs(i,{children:[e.jsx(a,{children:"Department"}),e.jsx(a,{children:"Participant"})]})}),e.jsx(f,{children:e.jsxs(i,{children:[e.jsx(t,{children:e.jsxs(S,{value:N,onChange:s=>b(s.target.value),children:[e.jsx("option",{value:"",children:"Select Department"}),e.jsx("option",{value:"HR",children:"HR"}),e.jsx("option",{value:"Finance",children:"Finance"})]})}),e.jsx(t,{children:e.jsxs(S,{value:y,onChange:s=>T(s.target.value),children:[e.jsx("option",{value:"",children:"Select Participant"}),e.jsx("option",{value:"Employee 1",children:"Employee 1"}),e.jsx("option",{value:"Employee 2",children:"Employee 2"})]})})]})})]}),e.jsx(d,{color:"primary",onClick:O,className:"mt-3",children:"Next"})]}),F===2&&e.jsxs(e.Fragment,{children:[e.jsx(u,{className:"mb-3",children:e.jsx(l,{children:e.jsx("h5",{className:"fw-bold",children:"PROJECT BUDGET"})})}),e.jsx(c,{children:"Instructor / Trainer Fees"}),e.jsx(m,{type:"number"}),e.jsx(c,{children:"Training Materials"}),e.jsx(m,{type:"number"}),e.jsx(c,{children:"Venue / Facility Costs"}),e.jsx(m,{type:"number"}),e.jsx(c,{children:"Travel & Accommodation"}),e.jsx(m,{type:"number"}),e.jsx(c,{children:"Contingency Fund"}),e.jsx(m,{type:"number"}),e.jsx(d,{color:"secondary",onClick:q,className:"mt-3",children:"Back"}),e.jsx(d,{color:"primary",onClick:$,className:"mt-3 ms-2",children:"Save"})]})]})})]})]})};export{oe as default};
