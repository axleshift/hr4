import{r as a,j as e,w as S}from"./index-C9moyUuD.js";import{b as P,d,a as R}from"./index.esm-q0_LfIJ4.js";import{C as q,a as E}from"./CRow-D0Z63qU-.js";import{C as I,a as U}from"./CCardBody-DWVf3-Vd.js";import{C as k}from"./CForm-CAe3t6CP.js";import{C as t,a as o}from"./CInputGroupText-pjYUgjk5.js";import{c as B}from"./cil-user-Ddrdy7PS.js";import{C as n}from"./CFormInput-DeWzVVVV.js";import{c as j}from"./cil-lock-locked-DmxpJbVL.js";const J=()=>{const[m,g]=a.useState(""),[u,f]=a.useState(""),[c,w]=a.useState(""),[l,y]=a.useState(""),[p,i]=a.useState(""),[v,x]=a.useState(!1),N=async s=>{var h,C;if(s.preventDefault(),i(""),x(!1),c!==l){i("Passwords do not match.");return}try{const r=await S.post("http://localhost:8000/api/auth/register",{name:m,email:u,password:c,password_confirmation:l});console.log(r.data),x(!0)}catch(r){const b=((C=(h=r.response)==null?void 0:h.data)==null?void 0:C.message)||(r.request?"No response from server. Please try again later.":r.message)||"Registration failed! Please try again.";i(b)}};return e.jsx("div",{className:"bg-body-tertiary min-vh-100 d-flex flex-row align-items-center",children:e.jsx(P,{children:e.jsx(q,{className:"justify-content-center",children:e.jsx(E,{md:9,lg:7,xl:6,children:e.jsx(I,{className:"mx-4",children:e.jsx(U,{className:"p-4",children:e.jsxs(k,{onSubmit:N,children:[e.jsx("h1",{children:"Register"}),e.jsx("p",{className:"text-body-secondary",children:"Create your account"}),p&&e.jsx("div",{className:"text-danger",children:p}),v&&e.jsx("div",{className:"text-success",children:"User registered successfully!"}),e.jsxs(t,{className:"mb-3",children:[e.jsx(o,{children:e.jsx(d,{icon:B})}),e.jsx(n,{placeholder:"Username",autoComplete:"username",value:m,onChange:s=>g(s.target.value),required:!0})]}),e.jsxs(t,{className:"mb-3",children:[e.jsx(o,{children:"@"}),e.jsx(n,{type:"email",placeholder:"Email",autoComplete:"email",value:u,onChange:s=>f(s.target.value),required:!0})]}),e.jsxs(t,{className:"mb-3",children:[e.jsx(o,{children:e.jsx(d,{icon:j})}),e.jsx(n,{type:"password",placeholder:"Password",autoComplete:"new-password",value:c,onChange:s=>w(s.target.value),required:!0})]}),e.jsxs(t,{className:"mb-4",children:[e.jsx(o,{children:e.jsx(d,{icon:j})}),e.jsx(n,{type:"password",placeholder:"Repeat password",autoComplete:"new-password",value:l,onChange:s=>y(s.target.value),required:!0})]}),e.jsx("div",{className:"d-grid",children:e.jsx(R,{color:"success",type:"submit",children:"Create Account"})})]})})})})})})})};export{J as default};
