import{r as a,o as N,j as s}from"./index-BID8S547.js";import{a as b}from"./axios-CCb-kr4I.js";import{b as v,c as m,a as d}from"./index.esm-D9Kanawe.js";import{C as p,a as o}from"./CRow-DWIQU9KB.js";import{C as w}from"./CCardGroup-BB18reGF.js";import{C as L,a as E}from"./CCardBody-BdaZpHmx.js";import{C as I}from"./CForm-C1cXRZ_H.js";import{C as x,a as h}from"./CInputGroupText-6h7RMIni.js";import{c as S}from"./cil-user-Ddrdy7PS.js";import{C as u}from"./CFormInput-DkIx22mL.js";import{c as k}from"./cil-lock-locked-DmxpJbVL.js";import"./CFormControlWrapper-BYnt1YdK.js";import"./CFormControlValidation-CB58nEhg.js";import"./CFormLabel-uvumSi2s.js";const K=()=>{const[t,j]=a.useState(""),[n,C]=a.useState(""),[i,g]=a.useState(""),f=N(),y=async r=>{var c,l;r.preventDefault();try{const e=await b.post("http://localhost:8000/api/login",{email:t,password:n});console.log(e.data),f("/dashboard")}catch(e){g(((l=(c=e.response)==null?void 0:c.data)==null?void 0:l.error)||"Login failed. Please try again."),console.error(e.response.data)}};return s.jsx("div",{className:"bg-body-tertiary min-vh-100 d-flex flex-row align-items-center",children:s.jsx(v,{children:s.jsx(p,{className:"justify-content-center",children:s.jsx(o,{md:8,children:s.jsx(w,{children:s.jsx(L,{className:"p-4",children:s.jsx(E,{children:s.jsxs(I,{onSubmit:y,children:[s.jsx("h1",{children:"Login"}),s.jsx("p",{className:"text-body-secondary",children:"Sign In to your account"}),i&&s.jsx("p",{className:"text-danger",children:i}),s.jsxs(x,{className:"mb-3",children:[s.jsx(h,{children:s.jsx(m,{icon:S})}),s.jsx(u,{placeholder:"Email",autoComplete:"username",value:t,onChange:r=>j(r.target.value)})]}),s.jsxs(x,{className:"mb-4",children:[s.jsx(h,{children:s.jsx(m,{icon:k})}),s.jsx(u,{type:"password",placeholder:"Password",autoComplete:"current-password",value:n,onChange:r=>C(r.target.value)})]}),s.jsxs(p,{children:[s.jsx(o,{xs:6,children:s.jsx(d,{color:"primary",className:"px-4",type:"submit",children:"Login"})}),s.jsx(o,{xs:6,className:"text-right",children:s.jsx(d,{color:"link",className:"px-0",children:"Forgot password?"})})]})]})})})})})})})})};export{K as default};
