import{r as l,j as e}from"./index-DY_t4ybt.js";import{a as c}from"./axios-CCb-kr4I.js";import{R as p}from"./react-DOh6XfOk.js";import{C as h,a as C,b as x,V as j}from"./vue-D9mMJ5_O.js";import{C as f,a as u}from"./CRow-CDLgIfZF.js";import{C as g,a as S}from"./CCardBody-BaGQwGlG.js";import{C as y}from"./CCardHeader-lrYcdZv1.js";import{a as i}from"./index.esm-BYPjsa9P.js";import"./DefaultLayout-DOtXdxq5.js";import"./cil-user-Ddrdy7PS.js";const L=()=>{const[s,n]=l.useState([]);l.useEffect(()=>{(async()=>{try{const a=(await c.get("http://localhost:8000/api/announcement")).data.data.map(o=>({id:o.id,imgSrc:p,label:o.title,description:o.content}));n(a)}catch(t){console.error("Error fetching announcements:",t)}})()},[]);const d=async()=>{const r=s.length+1,t={title:`Slide ${r} label`,content:`TITLE ${r}.`};try{const a=await c.post("http://localhost:8000/api/announcement",t,{headers:{"Content-Type":"application/json"}}),o={id:r,imgSrc:j,label:t.title,description:t.content};n([...s,o])}catch(a){console.error("Error adding slide:",a)}},m=async()=>{if(s.length>0){const r=s[s.length-1].id;try{await c.delete(`http://localhost:8000/api/announcement/${r}`),n(s.slice(0,-1))}catch(t){console.error("Error deleting slide:",t)}}};return e.jsx(f,{children:e.jsx(u,{xs:12,children:e.jsxs(g,{className:"mb-4",children:[e.jsx(y,{children:e.jsx("strong",{children:"Announcement"})}),e.jsx(S,{children:e.jsx(h,{controls:!0,indicators:!0,children:s.map(r=>e.jsxs(C,{children:[e.jsx("img",{className:"d-block w-100",src:r.imgSrc,alt:r.label}),e.jsxs(x,{className:"d-none d-md-block",children:[e.jsx("h5",{children:r.label}),e.jsx("p",{children:r.description})]})]},r.id))})}),e.jsxs("div",{className:"d-grid gap-2 d-md-flex justify-content-md-end",children:[e.jsx(i,{color:"primary",className:"me-md-2",onClick:d,children:"ADD"}),e.jsx(i,{color:"primary",children:"UPDATE"}),e.jsx(i,{color:"primary",onClick:m,children:"DELETE"})]})]})})})};export{L as default};
