import{r as n,x as m,i as N,j as s}from"./index-CcXlwsHO.js";import{C as w,a as E}from"./CRow-BDf_OEG_.js";import{C as b,a as y}from"./CCardBody-CaKT0xqt.js";import{C as H}from"./CCardHeader-zywRxrV7.js";import{d as T}from"./index.esm-VrokIB7m.js";import{C as S,a as v,b as l,c as t,d as I,e as a}from"./CTable-CEtvMicz.js";import{f as o}from"./DefaultLayout-6zKprENK.js";import"./CCloseButton-DKtUmc07.js";import"./cil-user-DA9h1jll.js";const q=()=>{const[h,i]=n.useState([]),[x,p]=n.useState([]),[c,j]=n.useState("");n.useEffect(()=>{f(),C()},[]);const f=async()=>{try{const e=await m.get("https://backend-hr1.axleshift.com/api/employees");i(e.data.data||e.data)}catch(e){console.error("Error fetching external employees:",e);try{const r=await N.get("/api/employee");i(r.data.data)}catch(r){console.error("Error fetching local employees:",r)}}},C=async()=>{try{const e=await m.get("https://backend-hr1.axleshift.com/api/newhires");p(e.data.data||e.data)}catch(e){console.error("Error fetching new hires:",e)}},u=e=>{const r=e.middleName?` ${e.middleName}`:"";return`${e.firstName}${r} ${e.lastName}`},g=e=>{switch(e){case"completed":return s.jsx(o,{color:"success",children:"Completed"});case"in progress":return s.jsx(o,{color:"warning",children:"In Progress"});case"pending":default:return s.jsx(o,{color:"secondary",children:"Pending"})}},d=[...h,...x].filter(e=>[e.employeeId,e.firstName,e.middleName,e.lastName,e.position,e.department,e.email,e.dateHired].filter(Boolean).some(r=>r.toLowerCase().includes(c.toLowerCase())));return s.jsx(w,{children:s.jsx(E,{xs:12,children:s.jsxs(b,{className:"mb-4",children:[s.jsx(H,{className:"d-flex justify-content-between align-items-center",children:s.jsx("strong",{children:"Employee Management"})}),s.jsxs(y,{children:[s.jsx(T,{className:"mb-3",placeholder:"Search by ID, name, position, department, etc...",value:c,onChange:e=>j(e.target.value)}),s.jsx("div",{style:{maxHeight:"500px",overflowY:"auto"},children:s.jsxs(S,{align:"middle",className:"mb-0 border",hover:!0,responsive:!0,children:[s.jsx(v,{children:s.jsxs(l,{children:[s.jsx(t,{children:"Employee ID"}),s.jsx(t,{children:"Name"}),s.jsx(t,{children:"Position"}),s.jsx(t,{children:"Department"}),s.jsx(t,{children:"Date Hired"}),s.jsx(t,{children:"Email"}),s.jsx(t,{className:"text-center",children:"Status"})]})}),s.jsx(I,{children:d.length>0?d.map(e=>s.jsxs(l,{children:[s.jsx(a,{children:e.employeeId}),s.jsx(a,{children:u(e)}),s.jsx(a,{children:e.position}),s.jsx(a,{children:e.department}),s.jsx(a,{children:e.dateHired}),s.jsx(a,{children:e.email}),s.jsx(a,{className:"text-center",children:g(e.status)})]},e.id)):s.jsx(l,{children:s.jsx(a,{colSpan:7,className:"text-center",children:"No employees found."})})})]})})]})]})})})};export{q as default};
