import{r as a,j as e,x as S}from"./index-Or7GVJNT.js";import{b as P,c as m,a as R}from"./index.esm-D-5ckd-k.js";import{C as q,a as E}from"./CRow-BcUhTT_g.js";import{C as I,a as U}from"./CCardBody-DT7B0yca.js";import{C as k}from"./CForm-Dn8fo28c.js";import{C as t,a as o}from"./CInputGroupText-D5JfrGJ0.js";import{c as B}from"./cil-user-Ddrdy7PS.js";import{C as c}from"./CFormInput-BTWGhKbA.js";import{c as j}from"./cil-lock-locked-DmxpJbVL.js";const J=()=>{const[d,g]=a.useState(""),[u,f]=a.useState(""),[n,w]=a.useState(""),[l,y]=a.useState(""),[p,i]=a.useState(""),[v,x]=a.useState(!1),N=async s=>{var h,C;if(s.preventDefault(),i(""),x(!1),n!==l){i("Passwords do not match.");return}try{const r=await S.post("http://localhost:8000/api/auth/register",{name:d,email:u,password:n,password_confirmation:l});console.log(r.data),x(!0)}catch(r){const b=((C=(h=r.response)==null?void 0:h.data)==null?void 0:C.message)||(r.request?"No response from server. Please try again later.":r.message)||"Registration failed! Please try again.";i(b)}};return e.jsx("div",{className:"bg-body-tertiary min-vh-100 d-flex flex-row align-items-center",children:e.jsx(P,{children:e.jsx(q,{className:"justify-content-center",children:e.jsx(E,{md:9,lg:7,xl:6,children:e.jsx(I,{className:"mx-4",children:e.jsx(U,{className:"p-4",children:e.jsxs(k,{onSubmit:N,children:[e.jsx("h1",{children:"Register"}),e.jsx("p",{className:"text-body-secondary",children:"Create your account"}),p&&e.jsx("div",{className:"text-danger",children:p}),v&&e.jsx("div",{className:"text-success",children:"User registered successfully!"}),e.jsxs(t,{className:"mb-3",children:[e.jsx(o,{children:e.jsx(m,{icon:B})}),e.jsx(c,{placeholder:"Username",autoComplete:"username",value:d,onChange:s=>g(s.target.value),required:!0})]}),e.jsxs(t,{className:"mb-3",children:[e.jsx(o,{children:"@"}),e.jsx(c,{type:"email",placeholder:"Email",autoComplete:"email",value:u,onChange:s=>f(s.target.value),required:!0})]}),e.jsxs(t,{className:"mb-3",children:[e.jsx(o,{children:e.jsx(m,{icon:j})}),e.jsx(c,{type:"password",placeholder:"Password",autoComplete:"new-password",value:n,onChange:s=>w(s.target.value),required:!0})]}),e.jsxs(t,{className:"mb-4",children:[e.jsx(o,{children:e.jsx(m,{icon:j})}),e.jsx(c,{type:"password",placeholder:"Repeat password",autoComplete:"new-password",value:l,onChange:s=>y(s.target.value),required:!0})]}),e.jsx("div",{className:"d-grid",children:e.jsx(R,{color:"success",type:"submit",children:"Create Account"})})]})})})})})})})};export{J as default};
