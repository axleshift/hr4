import{r,_,R as w,a as G,c as ee,P as z,j as e,q as W}from"./index-AxFr6hnb.js";import{C as A,a as d}from"./CRow-CPHKYFz1.js";import{C as V}from"./CWidgetStatsA-Da7Z_JDa.js";import{f as q,a as g,c as h,d as b}from"./index.esm-ClEXB-bb.js";import{C as M,a as H,b as o,c as i,d as L,e as l}from"./CTable-6wdzrkGa.js";import{a as se,b as ae,d as re}from"./DefaultLayout-BAVP1wzC.js";import{C as te}from"./cil-user-sOUn-P8N.js";import"./CCardBody-DA0RJo6z.js";import"./CCloseButton-BxIjwK-8.js";var C=r.forwardRef(function(s,k){var n,F=s.children,v=s.className,P=s.feedback,E=s.feedbackInvalid,I=s.feedbackValid,R=s.floatingClassName,B=s.floatingLabel,N=s.htmlSize,x=s.id,j=s.invalid,y=s.label,p=s.options,S=s.size,D=s.text,J=s.tooltipFeedback,T=s.valid,m=_(s,["children","className","feedback","feedbackInvalid","feedbackValid","floatingClassName","floatingLabel","htmlSize","id","invalid","label","options","size","text","tooltipFeedback","valid"]);return w.createElement(q,{describedby:m["aria-describedby"],feedback:P,feedbackInvalid:E,feedbackValid:I,floatingClassName:R,floatingLabel:B,id:x,invalid:j,label:y,text:D,tooltipFeedback:J,valid:T},w.createElement("select",G({id:x,className:ee("form-select",(n={},n["form-select-".concat(S)]=S,n["is-invalid"]=j,n["is-valid"]=T,n),v),size:N},m,{ref:k}),p?p.map(function(t,u){return w.createElement("option",G({},typeof t=="object"&&t.disabled&&{disabled:t.disabled},typeof t=="object"&&t.value!==void 0&&{value:t.value},{key:u}),typeof t=="string"?t:t.label)}):F))});C.propTypes=G({className:z.string,htmlSize:z.number,options:z.array},q.propTypes);C.displayName="CFormSelect";const je=()=>{const[s,k]=r.useState([]),[n,F]=r.useState(""),[v,P]=r.useState(""),[E,I]=r.useState(""),[R,B]=r.useState(""),[N,x]=r.useState(""),[j,y]=r.useState(""),[p,S]=r.useState(""),[D,J]=r.useState("Pending"),[T,m]=r.useState(!1),[t,u]=r.useState(1),U=()=>u(2),$=()=>u(1),[K,Q]=r.useState([]),[O,X]=r.useState([]),[f,Y]=r.useState("");r.useEffect(()=>{(async()=>{try{const c=await W.get("/api/programs");Q(c.data.data)}catch(c){console.error("Error fetching programs:",c)}})()},[]),r.useEffect(()=>{if(!f)return;(async()=>{try{const c=await W.get(`/api/courses?program_id=${f}`);X(c.data.data)}catch(c){console.error("Error fetching courses:",c)}})()},[f]);const Z=()=>{v&&p&&(k([...s,{id:s.length+1,formId:n,programName:v,courseName:E,trainingDate:R,department:N,participant:j,cost:p,status:D}]),F(""),P(""),I(""),B(""),x(""),y(""),S(""),m(!1),u(1))};return e.jsxs(A,{children:[e.jsx(d,{xs:12,md:6,lg:3,children:e.jsx(V,{className:"mb-4",color:"primary",value:"₱0",title:"Total Training Budget"})}),e.jsx(d,{xs:12,md:6,lg:3,children:e.jsx(V,{className:"mb-4",color:"warning",value:"₱0",title:"Total Training Pending"})}),e.jsx(d,{xs:12,md:6,lg:3,children:e.jsx(V,{className:"mb-4",color:"danger",value:"0%",title:"Total Training Rejected"})}),e.jsx(d,{xs:12,className:"mb-3 d-flex justify-content-end",children:e.jsx(g,{color:"primary",onClick:()=>m(!0),children:"Add Budget"})}),e.jsx(d,{xs:12,children:e.jsxs(M,{striped:!0,hover:!0,children:[e.jsx(H,{children:e.jsxs(o,{children:[e.jsx(i,{children:"ID"}),e.jsx(i,{children:"Form ID"}),e.jsx(i,{children:"Training Program"}),e.jsx(i,{children:"Status"}),e.jsx(i,{children:"Action"})]})}),e.jsx(L,{children:s.length>0?s.map(a=>e.jsxs(o,{children:[e.jsx(l,{children:a.id}),e.jsx(l,{children:a.formId}),e.jsx(l,{children:a.programName}),e.jsx(l,{children:a.status}),e.jsx(l,{children:e.jsx(g,{color:"info",variant:"outline",children:"More Info"})})]},a.id)):e.jsx(o,{children:e.jsx(l,{colSpan:"5",className:"text-center",children:"No Budget Reports Available"})})})]})}),e.jsxs(se,{visible:T,onClose:()=>m(!1),children:[e.jsx(ae,{children:"Budger Form"}),e.jsx(re,{children:e.jsxs(te,{children:[t===1&&e.jsxs(e.Fragment,{children:[e.jsx(A,{className:"mb-3",children:e.jsx(d,{children:e.jsx("h5",{className:"fw-bold",children:"TRAINING PROJECT"})})}),e.jsx(h,{children:"Training Program Name"}),e.jsxs(C,{value:f,onChange:a=>Y(a.target.value),children:[e.jsx("option",{value:"",children:"Select Program"}),K.map(a=>e.jsx("option",{value:a.id,children:a.title},a.id))]}),f&&O.length>0&&e.jsxs(e.Fragment,{children:[e.jsx("h6",{className:"mt-3",children:"Available Courses"}),e.jsxs(M,{striped:!0,children:[e.jsx(H,{children:e.jsxs(o,{children:[e.jsx(i,{children:"Course Name"}),e.jsx(i,{children:"Description"}),e.jsx(i,{children:"Duration"})]})}),e.jsx(L,{children:O.map(a=>e.jsxs(o,{children:[e.jsx(l,{children:a.title}),e.jsx(l,{children:a.description}),e.jsx(l,{children:a.duration})]},a.id))})]})]}),e.jsxs(M,{striped:!0,children:[e.jsx(H,{children:e.jsxs(o,{children:[e.jsx(i,{children:"Department"}),e.jsx(i,{children:"Participant"})]})}),e.jsx(L,{children:e.jsxs(o,{children:[e.jsx(l,{children:e.jsxs(C,{value:N,onChange:a=>x(a.target.value),children:[e.jsx("option",{value:"",children:"Select Department"}),e.jsx("option",{value:"HR",children:"HR"}),e.jsx("option",{value:"Finance",children:"Finance"})]})}),e.jsx(l,{children:e.jsxs(C,{value:j,onChange:a=>y(a.target.value),children:[e.jsx("option",{value:"",children:"Select Participant"}),e.jsx("option",{value:"Employee 1",children:"Employee 1"}),e.jsx("option",{value:"Employee 2",children:"Employee 2"})]})})]})})]}),e.jsx(g,{color:"primary",onClick:U,className:"mt-3",children:"Next"})]}),t===2&&e.jsxs(e.Fragment,{children:[e.jsx(A,{className:"mb-3",children:e.jsx(d,{children:e.jsx("h5",{className:"fw-bold",children:"PROJECT BUDGET"})})}),e.jsx(h,{children:"Instructor / Trainer Fees"}),e.jsx(b,{type:"number"}),e.jsx(h,{children:"Training Materials"}),e.jsx(b,{type:"number"}),e.jsx(h,{children:"Venue / Facility Costs"}),e.jsx(b,{type:"number"}),e.jsx(h,{children:"Travel & Accommodation"}),e.jsx(b,{type:"number"}),e.jsx(h,{children:"Contingency Fund"}),e.jsx(b,{type:"number"}),e.jsx(g,{color:"secondary",onClick:$,className:"mt-3",children:"Back"}),e.jsx(g,{color:"primary",onClick:Z,className:"mt-3 ms-2",children:"Save"})]})]})})]})]})};export{je as default};
