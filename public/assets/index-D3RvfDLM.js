import{r as t,_,R as D,a as M,c as ee,P as z,j as e,i as O}from"./index-DzXve14P.js";import{C as w,a as c}from"./CRow-7CEE8Dzc.js";import{C as V}from"./CWidgetStatsA-DBpCYECS.js";import{a as b}from"./index.esm-DHPX5Ao9.js";import{C as G,a as J,b as f,c as o,d as W,e as l}from"./CTable-CoG6F2Bn.js";import{C as se,a as ae,b as te}from"./CModalHeader-DeKLxuTL.js";import{C as re}from"./CForm-CNkbfKtZ.js";import{b as U,a as d,C}from"./CFormInput-Dos50XSW.js";import"./CCardBody-MLkgVBpV.js";import"./CCloseButton-DuKPxmmf.js";import"./DefaultLayout-gvegmKaM.js";import"./cil-user-Ddrdy7PS.js";var h=t.forwardRef(function(s,P){var i,I=s.children,x=s.className,v=s.feedback,N=s.feedbackInvalid,y=s.feedbackValid,E=s.floatingClassName,R=s.floatingLabel,S=s.htmlSize,p=s.id,j=s.invalid,T=s.label,u=s.options,k=s.size,B=s.text,H=s.tooltipFeedback,F=s.valid,m=_(s,["children","className","feedback","feedbackInvalid","feedbackValid","floatingClassName","floatingLabel","htmlSize","id","invalid","label","options","size","text","tooltipFeedback","valid"]);return D.createElement(U,{describedby:m["aria-describedby"],feedback:v,feedbackInvalid:N,feedbackValid:y,floatingClassName:E,floatingLabel:R,id:p,invalid:j,label:T,text:B,tooltipFeedback:H,valid:F},D.createElement("select",M({id:p,className:ee("form-select",(i={},i["form-select-".concat(k)]=k,i["is-invalid"]=j,i["is-valid"]=F,i),x),size:S},m,{ref:P}),u?u.map(function(r,g){return D.createElement("option",M({},typeof r=="object"&&r.disabled&&{disabled:r.disabled},typeof r=="object"&&r.value!==void 0&&{value:r.value},{key:g}),typeof r=="string"?r:r.label)}):I))});h.propTypes=M({className:z.string,htmlSize:z.number,options:z.array},U.propTypes);h.displayName="CFormSelect";const ge=()=>{const[s,P]=t.useState([]),[i,I]=t.useState(""),[x,v]=t.useState(""),[N,y]=t.useState(""),[E,R]=t.useState(""),[S,p]=t.useState(""),[j,T]=t.useState(""),[u,k]=t.useState(""),[B,H]=t.useState("Pending"),[F,m]=t.useState(!1),[r,g]=t.useState(1),[$,q]=t.useState([]),[K,L]=t.useState([]),Q=()=>g(2),X=()=>g(1);t.useEffect(()=>{(async()=>{try{const n=await O.get("/api/programs");q(n.data.data)}catch(n){console.error("Error fetching programs:",n)}})()},[]);const Y=async a=>{const n=a.target.value;if(v(n),n)try{const A=await O.get(`/api/courses?program_id=${n}`);L(A.data.data)}catch(A){console.error("Error fetching courses:",A)}else L([])},Z=()=>{x&&u&&(P([...s,{id:s.length+1,formId:i,programName:x,courseName:N,trainingDate:E,department:S,participant:j,cost:u,status:B}]),I(""),v(""),y(""),R(""),p(""),T(""),k(""),m(!1),g(1))};return e.jsxs(w,{children:[e.jsx(c,{xs:12,md:6,lg:3,children:e.jsx(V,{className:"mb-4",color:"primary",value:"₱0",title:"Total Training Budget"})}),e.jsx(c,{xs:12,md:6,lg:3,children:e.jsx(V,{className:"mb-4",color:"danger",value:"₱0",title:"Total Actual Cost"})}),e.jsx(c,{xs:12,md:6,lg:3,children:e.jsx(V,{className:"mb-4",color:"success",value:"0%",title:"Average Training ROI"})}),e.jsx(c,{xs:12,className:"mb-3 d-flex justify-content-end",children:e.jsx(b,{color:"primary",onClick:()=>m(!0),children:"Add Budget"})}),e.jsx(c,{xs:12,children:e.jsxs(G,{striped:!0,hover:!0,children:[e.jsx(J,{children:e.jsxs(f,{children:[e.jsx(o,{children:"ID"}),e.jsx(o,{children:"Form ID"}),e.jsx(o,{children:"Training Program"}),e.jsx(o,{children:"Status"}),e.jsx(o,{children:"Action"})]})}),e.jsx(W,{children:s.length>0?s.map(a=>e.jsxs(f,{children:[e.jsx(l,{children:a.id}),e.jsx(l,{children:a.formId}),e.jsx(l,{children:a.programName}),e.jsx(l,{children:a.status}),e.jsx(l,{children:e.jsx(b,{color:"info",variant:"outline",children:"More Info"})})]},a.id)):e.jsx(f,{children:e.jsx(l,{colSpan:"5",className:"text-center",children:"No Budget Reports Available"})})})]})}),e.jsxs(se,{visible:F,onClose:()=>m(!1),children:[e.jsx(ae,{children:"Budger Form"}),e.jsx(te,{children:e.jsxs(re,{children:[r===1&&e.jsxs(e.Fragment,{children:[e.jsx(w,{className:"mb-3",children:e.jsx(c,{children:e.jsx("h5",{className:"fw-bold",children:"TRAINING PROJECT"})})}),e.jsx(d,{children:"Training Program Name"}),e.jsxs(h,{value:x,onChange:Y,children:[e.jsx("option",{value:"",children:"Select Program"}),$.map(a=>e.jsx("option",{value:a.id,children:a.title},a.id))]}),e.jsx(d,{children:"Training Course Name"}),e.jsxs(h,{value:N,onChange:a=>y(a.target.value),children:[e.jsx("option",{value:"",children:"Select Course"}),K.map(a=>e.jsx("option",{value:a.title,children:a.title},a.id))]}),e.jsxs(G,{striped:!0,children:[e.jsx(J,{children:e.jsxs(f,{children:[e.jsx(o,{children:"Department"}),e.jsx(o,{children:"Participant"})]})}),e.jsx(W,{children:e.jsxs(f,{children:[e.jsx(l,{children:e.jsxs(h,{value:S,onChange:a=>p(a.target.value),children:[e.jsx("option",{value:"",children:"Select Department"}),e.jsx("option",{value:"HR",children:"HR"}),e.jsx("option",{value:"Finance",children:"Finance"})]})}),e.jsx(l,{children:e.jsxs(h,{value:j,onChange:a=>T(a.target.value),children:[e.jsx("option",{value:"",children:"Select Participant"}),e.jsx("option",{value:"Employee 1",children:"Employee 1"}),e.jsx("option",{value:"Employee 2",children:"Employee 2"})]})})]})})]}),e.jsx(b,{color:"primary",onClick:Q,className:"mt-3",children:"Next"})]}),r===2&&e.jsxs(e.Fragment,{children:[e.jsx(w,{className:"mb-3",children:e.jsx(c,{children:e.jsx("h5",{className:"fw-bold",children:"PROJECT BUDGET"})})}),e.jsx(d,{children:"Instructor / Trainer Fees"}),e.jsx(C,{type:"number"}),e.jsx(d,{children:"Training Materials"}),e.jsx(C,{type:"number"}),e.jsx(d,{children:"Venue / Facility Costs"}),e.jsx(C,{type:"number"}),e.jsx(d,{children:"Travel & Accommodation"}),e.jsx(C,{type:"number"}),e.jsx(d,{children:"Contingency Fund"}),e.jsx(C,{type:"number"}),e.jsx(b,{color:"secondary",onClick:X,className:"mt-3",children:"Back"}),e.jsx(b,{color:"primary",onClick:Z,className:"mt-3 ms-2",children:"Save"})]})]})})]})]})};export{ge as default};
