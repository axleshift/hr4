import{r as a,o as g,j as s}from"./index-DY_t4ybt.js";import{a as m}from"./axios-CCb-kr4I.js";import{b as y,c as p,a as b}from"./index.esm-BYPjsa9P.js";import{C as v,a as w}from"./CRow-CDLgIfZF.js";import{C as N}from"./CCardGroup-3-CrTs9Y.js";import{C as L,a as E}from"./CCardBody-BaGQwGlG.js";import{C as k}from"./CForm-3D6HBQin.js";import{C as d,a as h}from"./CInputGroupText-uF9TptEf.js";import{c as I}from"./cil-user-Ddrdy7PS.js";import{C as x}from"./CFormInput-ChOXcZ2Z.js";import{c as S}from"./cil-lock-locked-DmxpJbVL.js";import"./CFormControlWrapper-CEMAYDSf.js";import"./CFormControlValidation-BSSrqZae.js";import"./CFormLabel-CF7EjIkg.js";const K=()=>{const[o,u]=a.useState(""),[t,C]=a.useState(""),[n,i]=a.useState(""),f=g();a.useEffect(()=>{(async()=>{await m.get("http://localhost:8000/sanctum/csrf-cookie")})()},[]);const j=async e=>{var c,l;e.preventDefault();try{(await m.post("http://localhost:8000/api/login",{email:o,password:t})).data.success?f("/dashboard"):i("Login failed. Please try again.")}catch(r){i(((l=(c=r.response)==null?void 0:c.data)==null?void 0:l.error)||"Login failed. Please try again."),console.error(r.response.data)}};return s.jsx("div",{className:"bg-body-tertiary min-vh-100 d-flex flex-row align-items-center",children:s.jsx(y,{children:s.jsx(v,{className:"justify-content-center",children:s.jsx(w,{md:8,children:s.jsx(N,{children:s.jsx(L,{className:"p-4",children:s.jsx(E,{children:s.jsxs(k,{onSubmit:j,children:[s.jsx("h1",{children:"Login"}),s.jsx("p",{className:"text-body-secondary",children:"Sign In to your account"}),n&&s.jsx("p",{className:"text-danger",children:n}),s.jsxs(d,{className:"mb-3",children:[s.jsx(h,{children:s.jsx(p,{icon:I})}),s.jsx(x,{type:"email",placeholder:"Email",autoComplete:"email",value:o,onChange:e=>u(e.target.value)})]}),s.jsxs(d,{className:"mb-4",children:[s.jsx(h,{children:s.jsx(p,{icon:S})}),s.jsx(x,{type:"password",placeholder:"Password",autoComplete:"current-password",value:t,onChange:e=>C(e.target.value)})]}),s.jsx(b,{type:"submit",color:"primary",className:"px-4",children:"Login"})]})})})})})})})})};export{K as default};
