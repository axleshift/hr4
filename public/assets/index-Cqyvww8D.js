import{r as o,j as e,P as r,h as _}from"./index-BBc-c8l1.js";import{c as n,a as y,d as f}from"./index.esm-Dr-DZZJC.js";import{a as b,b as g,c as F,d as v}from"./DefaultLayout-C1uqKx6c.js";import{C as O}from"./CModalTitle-cWOGuTFj.js";import{C as T}from"./CForm-DOWSqb5t.js";import{C as l}from"./CFormInput-BhS4kvFw.js";import{C as N}from"./CFormSelect-B_sibjtY.js";import{C as R,a as E}from"./CRow-BbB1z8dF.js";import{C as S,a as w}from"./CCardBody-CfICzOWP.js";import{C as M}from"./CCardHeader-DyaiP0Pf.js";import{C as P,a as V,b as j,c,d as q,e as p}from"./CTable-BRdmVOue.js";import{c as A}from"./cil-options-sHCm5Gxk.js";import"./CCloseButton-DKouav1e.js";import"./cil-user-Ddrdy7PS.js";const C=({modalVisible:h,setModalVisible:i,user:s,departments:x})=>{const[a,m]=o.useState({name:"",email:"",department:"",employee_type:"",employment_status:"",date_of_hire:"",gender:"",phone_number:"",address:""});return o.useEffect(()=>{s&&m({name:s.name||"",email:s.email||"",department:s.department||"",employee_type:s.employee_type||"",employment_status:s.employment_status||"",date_of_hire:s.date_of_hire||"",gender:s.gender||"",phone_number:s.phone_number||"",address:s.address||""})},[s]),e.jsxs(b,{visible:h,onClose:()=>i(!1),size:"lg",children:[e.jsx(g,{children:e.jsx(O,{children:"View Profile"})}),e.jsx(F,{children:e.jsxs(T,{children:[e.jsx(n,{htmlFor:"name",children:"Full Name"}),e.jsx(l,{id:"name",name:"name",value:a.name,readOnly:!0}),e.jsx(n,{htmlFor:"email",children:"Email"}),e.jsx(l,{id:"email",name:"email",value:a.email,readOnly:!0}),e.jsx(n,{htmlFor:"department",children:"Department"}),e.jsxs(N,{id:"department",name:"department",value:a.department,readOnly:!0,children:[e.jsx("option",{value:"",children:"--"}),x.map(d=>e.jsx("option",{value:d.id,children:d.name},d.id))]}),e.jsx(n,{htmlFor:"employee_type",children:"Employee Type"}),e.jsx(l,{id:"employee_type",name:"employee_type",value:a.employee_type,readOnly:!0}),e.jsx(n,{htmlFor:"employment_status",children:"Employment Status"}),e.jsx(l,{id:"employment_status",name:"employment_status",value:a.employment_status,readOnly:!0}),e.jsx(n,{htmlFor:"date_of_hire",children:"Date of Hire"}),e.jsx(l,{id:"date_of_hire",name:"date_of_hire",type:"date",value:a.date_of_hire,readOnly:!0}),e.jsx(n,{htmlFor:"gender",children:"Gender"}),e.jsx(l,{id:"gender",name:"gender",value:a.gender,readOnly:!0}),e.jsx(n,{htmlFor:"phone_number",children:"Phone Number"}),e.jsx(l,{id:"phone_number",name:"phone_number",value:a.phone_number,readOnly:!0}),e.jsx(n,{htmlFor:"address",children:"Address"}),e.jsx(l,{id:"address",name:"address",value:a.address,readOnly:!0})]})}),e.jsx(v,{children:e.jsx(y,{color:"secondary",onClick:()=>i(!1),children:"Close"})})]})};C.propTypes={modalVisible:r.bool.isRequired,setModalVisible:r.func.isRequired,user:r.shape({id:r.number.isRequired,name:r.string,email:r.string,department:r.oneOfType([r.number,r.string]),employee_type:r.string,employment_status:r.string,date_of_hire:r.string,gender:r.string,phone_number:r.string,address:r.string}).isRequired,departments:r.arrayOf(r.shape({id:r.number,name:r.string})).isRequired};const Y=()=>{const[h,i]=o.useState([]),[s,x]=o.useState(null),[a,m]=o.useState(!1);o.useEffect(()=>{_.get("/api/users").then(t=>i(t.data)).catch(t=>console.error("Failed to fetch users:",t))},[]);const d=t=>{x(t),m(!0)};return e.jsxs(R,{children:[e.jsx(E,{xs:12,children:e.jsxs(S,{className:"mb-4",children:[e.jsx(M,{children:e.jsx("strong",{children:"Access Control"})}),e.jsx(w,{children:e.jsxs(P,{align:"middle",hover:!0,responsive:!0,children:[e.jsx(V,{children:e.jsxs(j,{children:[e.jsx(c,{children:"Name"}),e.jsx(c,{children:"Email"}),e.jsx(c,{className:"text-center",children:"Role"}),e.jsx(c,{className:"text-center",children:"Actions"})]})}),e.jsx(q,{children:h.map(t=>{var u;return e.jsxs(j,{children:[e.jsx(p,{children:t.name}),e.jsx(p,{children:t.email}),e.jsx(p,{className:"text-center",children:((u=t.role)==null?void 0:u.name)||"N/A"}),e.jsx(p,{className:"text-center",children:e.jsxs(y,{color:"secondary",size:"sm",onClick:()=>d(t),children:[e.jsx(f,{icon:A,className:"me-1"}),"View"]})})]},t.id)})})]})})]})}),s&&e.jsx(C,{modalVisible:a,setModalVisible:m,user:s,roles:[],departments:[]})]})};export{Y as default};
