import{r as n,o as y,j as e}from"./index-BYbowjwR.js";import{a as i}from"./axios-CCb-kr4I.js";import{b as w,c,a as l}from"./index.esm-CzwThiwX.js";import{C as d,a}from"./CRow-wLY68JCV.js";import{C as N}from"./CCardGroup-CfP0ddGS.js";import{C as b,a as v}from"./CCardBody-DXLfTEI_.js";import{C as k}from"./CForm-BxdyN4O8.js";import{C as m,a as p}from"./CInputGroupText-BocTX7j1.js";import{c as L,a as I}from"./cil-user-Dlmw-Gem.js";import{C as x}from"./CFormInput-BAZphurG.js";import"./CFormControlWrapper-Bq2dx5A0.js";import"./CFormControlValidation-Bgf7a4rJ.js";import"./CFormLabel-BiVGQPK8.js";const q=()=>{const[r,h]=n.useState(""),[t,u]=n.useState(""),g=y(),C=async s=>{s.preventDefault();try{const o=await i.post("http://localhost:8000/api/login",{email:r,password:t});if(console.log("Login Response:",o),o.data.token){localStorage.setItem("token",o.data.token);const j=localStorage.getItem("token"),f=await i.get("http://localhost:8000/api/protected-route",{headers:{Authorization:`Bearer ${j}`}});console.log("Protected Response:",f.data),g("/dashboard")}else console.error("Login failed:",o.data.message)}catch(o){console.error("Error during login:",o.response?o.response.data:o.message)}};return e.jsx("div",{className:"bg-body-tertiary min-vh-100 d-flex flex-row align-items-center",children:e.jsx(w,{children:e.jsx(d,{className:"justify-content-center",children:e.jsx(a,{md:8,children:e.jsx(N,{children:e.jsx(b,{className:"p-4",children:e.jsx(v,{children:e.jsxs(k,{onSubmit:C,children:[e.jsx("h1",{children:"Login"}),e.jsx("p",{className:"text-body-secondary",children:"Sign In to your account"}),e.jsxs(m,{className:"mb-3",children:[e.jsx(p,{children:e.jsx(c,{icon:L})}),e.jsx(x,{placeholder:"Email",autoComplete:"username",value:r,onChange:s=>h(s.target.value)})]}),e.jsxs(m,{className:"mb-4",children:[e.jsx(p,{children:e.jsx(c,{icon:I})}),e.jsx(x,{type:"password",placeholder:"Password",autoComplete:"current-password",value:t,onChange:s=>u(s.target.value)})]}),e.jsxs(d,{children:[e.jsx(a,{xs:6,children:e.jsx(l,{color:"primary",className:"px-4",type:"submit",children:"Login"})}),e.jsx(a,{xs:6,className:"text-right",children:e.jsx(l,{color:"link",className:"px-0",children:"Forgot password?"})})]})]})})})})})})})})};export{q as default};
