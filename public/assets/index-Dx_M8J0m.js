import{r as c,x as d,i as C,j as e}from"./index-DbKuoF06.js";import{C as u,a as f}from"./CRow-DL1yrnTN.js";import{C as y,a as N}from"./CCardBody-DpFLLD9q.js";import{C as w}from"./CCardHeader-BH8OPjsT.js";import{C as E,a as H,b as l,c as t,d as T,e as n}from"./CTable-BQvmoY-W.js";import{f as B}from"./DefaultLayout-DA_sMF-M.js";import"./index.esm-VmPTl9IQ.js";import"./CCloseButton-DIWO3L_9.js";import"./cil-user-BO0owNV5.js";const A=()=>{const[m,i]=c.useState([]),[h,x]=c.useState([]);c.useEffect(()=>{j(),p()},[]);const j=async()=>{try{const s=await d.get("https://backend-hr1.axleshift.com/api/employees");i(s.data.data||s.data)}catch(s){console.error("Error fetching external employees:",s);try{const r=await C.get("/api/employee");i(r.data.data)}catch(r){console.error("Error fetching local employees:",r)}}},p=async()=>{try{const s=await d.get("https://backend-hr1.axleshift.com/api/newhires");x(s.data.data||s.data)}catch(s){console.error("Error fetching new hires:",s)}},b=s=>{const r=s.middleName?` ${s.middleName}`:"";return`${s.firstName}${r} ${s.lastName}`},g=s=>{switch((s||"").toLowerCase()){case"passed":return"success";case"ongoing":return"warning";case"failed":return"danger";case"pending":default:return"secondary"}},o=(s,r)=>e.jsxs(y,{className:"mb-4",children:[e.jsx(w,{className:"d-flex justify-content-between align-items-center",children:e.jsx("strong",{children:r})}),e.jsx(N,{children:e.jsxs(E,{align:"middle",className:"mb-0 border",hover:!0,responsive:!0,children:[e.jsx(H,{children:e.jsxs(l,{children:[e.jsx(t,{className:"bg-body-tertiary",children:"Employee ID"}),e.jsx(t,{className:"bg-body-tertiary",children:"Name"}),e.jsx(t,{className:"bg-body-tertiary",children:"Position"}),e.jsx(t,{className:"bg-body-tertiary",children:"Department"}),e.jsx(t,{className:"bg-body-tertiary",children:"Date Hired"}),e.jsx(t,{className:"bg-body-tertiary",children:"Email"}),e.jsx(t,{className:"bg-body-tertiary text-center",children:"Status"})]})}),e.jsx(T,{children:s.map(a=>e.jsxs(l,{children:[e.jsx(n,{children:a.employeeId}),e.jsx(n,{children:b(a)}),e.jsx(n,{children:a.position}),e.jsx(n,{children:a.department}),e.jsx(n,{children:a.dateHired}),e.jsx(n,{children:a.email}),e.jsx(n,{className:"text-center",children:e.jsx(B,{color:g(a.status),children:a.status?a.status.charAt(0).toUpperCase()+a.status.slice(1):"Pending"})})]},a.id))})]})})]});return e.jsx(u,{children:e.jsxs(f,{xs:12,children:[o(m,"Employee Management"),o(h,"New Hires")]})})};export{A as default};
