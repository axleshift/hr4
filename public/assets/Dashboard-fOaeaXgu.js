import{r as c,q as C,j as e}from"./index-gnwgXD5w.js";import{C as p,a as g}from"./CRow-Cy2Uixvs.js";import{C as T,a as f}from"./CCardBody-ChdJuS3I.js";import{C as u}from"./CCardHeader-D7lQTzzM.js";import{C as b,a as w,b as n,c as s,d as y}from"./CTable-D1J1oJ8G.js";import{C as S}from"./DefaultLayout-XAv-_MqK.js";import"./index.esm-DU_fYyWD.js";import"./CCloseButton-C4XNciMs.js";import"./cil-user-C9NKZ1F0.js";const v=()=>{const[i,t]=c.useState([]);c.useEffect(()=>{o()},[]);const o=async()=>{try{const r=await C.get("/training");t(r.data.data||[])}catch(r){console.error("Error fetching trainings:",r),t([])}},l=(r,h,x)=>{const d=new Date,j=new Date(`${r}T${h}`),m=new Date(`${r}T${x}`);return d<j?"Pending":d<=m?"Ongoing":"Complete"},a=Array.isArray(i)?i.filter(r=>l(r.schedule,r.start_time,r.end_time)==="Pending"):[];return e.jsx(p,{children:e.jsx(g,{xs:12,children:e.jsxs(T,{className:"mb-4",children:[e.jsx(u,{children:e.jsx("strong",{children:"Training Announcement"})}),e.jsx(f,{children:e.jsxs(b,{children:[e.jsx(w,{children:e.jsxs(n,{children:[e.jsx(s,{children:"Training Class"}),e.jsx(s,{children:"Agenda"}),e.jsx(s,{children:"Schedule"}),e.jsx(s,{children:"Start Time"}),e.jsx(s,{children:"End Time"}),e.jsx(s,{children:"Status"})]})}),e.jsx(y,{children:a.length>0?a.map(r=>e.jsxs(n,{children:[e.jsx(s,{children:r.event_title}),e.jsx(s,{children:r.delivery_method}),e.jsx(s,{children:r.schedule}),e.jsx(s,{children:r.start_time}),e.jsx(s,{children:r.end_time}),e.jsx(s,{children:e.jsx(S,{color:"warning",children:"Pending"})})]},r.id)):e.jsx(n,{children:e.jsx(s,{colSpan:"6",children:"No pending trainings"})})})]})})]})})})};export{v as default};
