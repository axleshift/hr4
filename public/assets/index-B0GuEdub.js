import{j as e,P as x,r as l,q as y}from"./index-B6QEWy3W.js";import{c as o,d as t,a as j,e as C}from"./index.esm-Bbb-uE8-.js";import{a as N,b as M,c as g,d as F,e as T}from"./DefaultLayout-F18As-aG.js";import{C as E}from"./cil-user-CiblbbpT.js";import{C as R,a as U}from"./CRow-j5j7T91w.js";import{C as v,a as O}from"./CCardBody-CKtsI9I4.js";import{C as P}from"./CCardHeader-C23NBnTb.js";import{c as q}from"./cil-user-plus-9sfVD_63.js";import{C as w,a as A,b as p,c as i,d as B,e as c}from"./CTable-Dd5Ul-LU.js";import{c as H}from"./cil-options-sHCm5Gxk.js";import"./CCloseButton-32XyS-D-.js";const u=({modalVisible:d,setModalVisible:n,user:r})=>{const a=()=>{n(!1)};return e.jsxs(N,{visible:d,onClose:a,children:[e.jsx(M,{children:e.jsx(g,{children:"Profile"})}),e.jsx(F,{children:e.jsxs(E,{children:[e.jsx(o,{htmlFor:"fullName",children:"Full Name"}),e.jsx(t,{id:"fullName",value:r.name,readOnly:!0}),e.jsx(o,{htmlFor:"email",children:"Email"}),e.jsx(t,{id:"email",value:r.email,readOnly:!0}),e.jsx(o,{htmlFor:"role",children:"Role"}),e.jsx(t,{id:"role",value:r.role,readOnly:!0}),e.jsx(o,{htmlFor:"department",children:"Department"}),e.jsx(t,{id:"department",value:r.department||"N/A",readOnly:!0})]})}),e.jsx(T,{children:e.jsx(j,{color:"secondary",onClick:a,children:"Close"})})]})};u.propTypes={modalVisible:x.bool.isRequired,setModalVisible:x.func.isRequired,user:x.object.isRequired};const W=()=>{const[d,n]=l.useState([]),[r,a]=l.useState(null),[b,h]=l.useState(!1);l.useEffect(()=>{(async()=>{try{const m=await y.get("/api/users");n(m.data.data)}catch(m){console.error("Error fetching users:",m)}})()},[]);const f=s=>{a(s),h(!0)};return e.jsxs(R,{children:[e.jsx(U,{xs:12,children:e.jsxs(v,{className:"mb-4",children:[e.jsxs(P,{className:"d-flex justify-content-between align-items-center",children:[e.jsx("strong",{children:"Access Control"}),e.jsxs(j,{color:"primary",children:[e.jsx(C,{icon:q,className:"me-2"})," Add User"]})]}),e.jsx(O,{children:e.jsxs(w,{align:"middle",className:"mb-0 border",hover:!0,responsive:!0,children:[e.jsx(A,{children:e.jsxs(p,{children:[e.jsx(i,{className:"bg-body-tertiary",children:"Name"}),e.jsx(i,{className:"bg-body-tertiary",children:"Email"}),e.jsx(i,{className:"bg-body-tertiary text-center",children:"Role"}),e.jsx(i,{className:"bg-body-tertiary text-center",children:"More"})]})}),e.jsx(B,{children:d.map(s=>e.jsxs(p,{children:[e.jsx(c,{children:s.name}),e.jsx(c,{children:s.email}),e.jsx(c,{className:"text-center",children:s.role}),e.jsx(c,{className:"text-center",children:e.jsxs(j,{color:"secondary",size:"sm",onClick:()=>f(s),children:[e.jsx(C,{icon:H})," More"]})})]},s.id))})]})})]})}),r&&e.jsx(u,{modalVisible:b,setModalVisible:h,user:r})]})};export{W as default};
