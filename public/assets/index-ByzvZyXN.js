import{r,j as e,i as B}from"./index-CeiFf4aB.js";import{C as j,a as l}from"./CRow-BbL5vf-Y.js";import{C as u}from"./CWidgetStatsA-Z0-AM9Z7.js";import{C as p,a as g,b as i,c as a,d as C,e as t}from"./CTable-BzYgaNUK.js";import{a as x,c,d}from"./index.esm-ChkZ89d8.js";import{a as z,b as K,d as Q}from"./DefaultLayout-BRuhYyuJ.js";import{C as X}from"./cil-user-CLZUe4u5.js";import{C as f}from"./CFormSelect-CoBfwzkp.js";import"./CCardBody-CVAxsu83.js";import"./CCloseButton-BE2Wd58B.js";const oe=()=>{const[m,D]=r.useState([]),[I,R]=r.useState(""),[S,A]=r.useState(""),[w,M]=r.useState(""),[H,k]=r.useState(""),[v,N]=r.useState(""),[b,y]=r.useState(""),[T,O]=r.useState(""),[V,Y]=r.useState("Pending"),[G,P]=r.useState(!1),[F,h]=r.useState(1),J=()=>h(2),L=()=>h(1),[U,W]=r.useState([]),[E,_]=r.useState([]),[o,$]=r.useState("");r.useEffect(()=>{(async()=>{try{const n=await B.get("/api/programs");W(n.data.data)}catch(n){console.error("Error fetching programs:",n)}})()},[]),r.useEffect(()=>{if(!o)return;(async()=>{try{const n=await B.get(`/api/courses?program_id=${o}`);_(n.data.data)}catch(n){console.error("Error fetching courses:",n)}})()},[o]);const q=()=>{S&&T&&(D([...m,{id:m.length+1,formId:I,programName:S,courseName:w,trainingDate:H,department:v,participant:b,cost:T,status:V}]),R(""),A(""),M(""),k(""),N(""),y(""),O(""),P(!1),h(1))};return e.jsxs(j,{children:[e.jsx(l,{xs:12,md:6,lg:3,children:e.jsx(u,{className:"mb-4",color:"primary",value:"₱0",title:"Total Training Budget"})}),e.jsx(l,{xs:12,md:6,lg:3,children:e.jsx(u,{className:"mb-4",color:"danger",value:"₱0",title:"Total Actual Cost"})}),e.jsx(l,{xs:12,md:6,lg:3,children:e.jsx(u,{className:"mb-4",color:"success",value:"0%",title:"Average Training ROI"})}),e.jsx(l,{xs:12,className:"mb-3 d-flex justify-content-end"}),e.jsx(l,{xs:12,children:e.jsxs(p,{striped:!0,hover:!0,children:[e.jsx(g,{children:e.jsxs(i,{children:[e.jsx(a,{children:"ID"}),e.jsx(a,{children:"Form ID"}),e.jsx(a,{children:"Training Program"}),e.jsx(a,{children:"Status"}),e.jsx(a,{children:"Action"})]})}),e.jsx(C,{children:m.length>0?m.map(s=>e.jsxs(i,{children:[e.jsx(t,{children:s.id}),e.jsx(t,{children:s.formId}),e.jsx(t,{children:s.programName}),e.jsx(t,{children:s.status}),e.jsx(t,{children:e.jsx(x,{color:"info",variant:"outline",children:"More Info"})})]},s.id)):e.jsx(i,{children:e.jsx(t,{colSpan:"5",className:"text-center",children:"No Budget Reports Available"})})})]})}),e.jsxs(z,{visible:G,onClose:()=>P(!1),children:[e.jsx(K,{children:"Budger Form"}),e.jsx(Q,{children:e.jsxs(X,{children:[F===1&&e.jsxs(e.Fragment,{children:[e.jsx(j,{className:"mb-3",children:e.jsx(l,{children:e.jsx("h5",{className:"fw-bold",children:"TRAINING PROJECT"})})}),e.jsx(c,{children:"Training Program Name"}),e.jsxs(f,{value:o,onChange:s=>$(s.target.value),children:[e.jsx("option",{value:"",children:"Select Program"}),U.map(s=>e.jsx("option",{value:s.id,children:s.title},s.id))]}),o&&E.length>0&&e.jsxs(e.Fragment,{children:[e.jsx("h6",{className:"mt-3",children:"Available Courses"}),e.jsxs(p,{striped:!0,children:[e.jsx(g,{children:e.jsxs(i,{children:[e.jsx(a,{children:"Course Name"}),e.jsx(a,{children:"Description"}),e.jsx(a,{children:"Duration"})]})}),e.jsx(C,{children:E.map(s=>e.jsxs(i,{children:[e.jsx(t,{children:s.title}),e.jsx(t,{children:s.description}),e.jsx(t,{children:s.duration})]},s.id))})]})]}),e.jsxs(p,{striped:!0,children:[e.jsx(g,{children:e.jsxs(i,{children:[e.jsx(a,{children:"Department"}),e.jsx(a,{children:"Participant"})]})}),e.jsx(C,{children:e.jsxs(i,{children:[e.jsx(t,{children:e.jsxs(f,{value:v,onChange:s=>N(s.target.value),children:[e.jsx("option",{value:"",children:"Select Department"}),e.jsx("option",{value:"HR",children:"HR"}),e.jsx("option",{value:"Finance",children:"Finance"})]})}),e.jsx(t,{children:e.jsxs(f,{value:b,onChange:s=>y(s.target.value),children:[e.jsx("option",{value:"",children:"Select Participant"}),e.jsx("option",{value:"Employee 1",children:"Employee 1"}),e.jsx("option",{value:"Employee 2",children:"Employee 2"})]})})]})})]}),e.jsx(x,{color:"primary",onClick:J,className:"mt-3",children:"Next"})]}),F===2&&e.jsxs(e.Fragment,{children:[e.jsx(j,{className:"mb-3",children:e.jsx(l,{children:e.jsx("h5",{className:"fw-bold",children:"PROJECT BUDGET"})})}),e.jsx(c,{children:"Instructor / Trainer Fees"}),e.jsx(d,{type:"number"}),e.jsx(c,{children:"Training Materials"}),e.jsx(d,{type:"number"}),e.jsx(c,{children:"Venue / Facility Costs"}),e.jsx(d,{type:"number"}),e.jsx(c,{children:"Travel & Accommodation"}),e.jsx(d,{type:"number"}),e.jsx(c,{children:"Contingency Fund"}),e.jsx(d,{type:"number"}),e.jsx(x,{color:"secondary",onClick:L,className:"mt-3",children:"Back"}),e.jsx(x,{color:"primary",onClick:q,className:"mt-3 ms-2",children:"Save"})]})]})})]})]})};export{oe as default};
