import{r,o as g,j as s}from"./index-DnjxPi8x.js";import{a as f}from"./axios-CCb-kr4I.js";import{b as y,c as m,a as b}from"./index.esm-Cv2JPB9I.js";import{C as v,a as N}from"./CRow-BhzYYVhC.js";import{C as w}from"./CCardGroup-BW2le9x9.js";import{C as L,a as E}from"./CCardBody-C4z__d36.js";import{C as I}from"./CForm-DoBlG8Ir.js";import{C as p,a as d}from"./CInputGroupText-CskLx1e4.js";import{c as S}from"./cil-user-Ddrdy7PS.js";import{C as x}from"./CFormInput-BHD_T-gC.js";import{c as P}from"./cil-lock-locked-DmxpJbVL.js";import"./CFormControlWrapper-D2NVEMzg.js";import"./CFormControlValidation-B-MQbxP3.js";import"./CFormLabel-CndHjYJW.js";const K=()=>{const[o,u]=r.useState(""),[t,h]=r.useState(""),[n,i]=r.useState(""),C=g(),j=async e=>{var c,l;e.preventDefault();try{(await f.post("http://localhost:8000/api/login",{email:o,password:t})).data.success?C("/dashboard"):i("Login failed. Please try again.")}catch(a){i(((l=(c=a.response)==null?void 0:c.data)==null?void 0:l.error)||"Login failed. Please try again."),console.error(a.response.data)}};return s.jsx("div",{className:"bg-body-tertiary min-vh-100 d-flex flex-row align-items-center",children:s.jsx(y,{children:s.jsx(v,{className:"justify-content-center",children:s.jsx(N,{md:8,children:s.jsx(w,{children:s.jsx(L,{className:"p-4",children:s.jsx(E,{children:s.jsxs(I,{onSubmit:j,children:[s.jsx("h1",{children:"Login"}),s.jsx("p",{className:"text-body-secondary",children:"Sign In to your account"}),n&&s.jsx("p",{className:"text-danger",children:n}),s.jsxs(p,{className:"mb-3",children:[s.jsx(d,{children:s.jsx(m,{icon:S})}),s.jsx(x,{type:"email",placeholder:"Email",autoComplete:"email",value:o,onChange:e=>u(e.target.value)})]}),s.jsxs(p,{className:"mb-4",children:[s.jsx(d,{children:s.jsx(m,{icon:P})}),s.jsx(x,{type:"password",placeholder:"Password",autoComplete:"current-password",value:t,onChange:e=>h(e.target.value)})]}),s.jsx(b,{type:"submit",color:"primary",className:"px-4",children:"Login"})]})})})})})})})})};export{K as default};
